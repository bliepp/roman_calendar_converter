(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=e(r);fetch(r.href,n)}})();const p=["I","IV","V","IX","X","XL","L","XC","C","CD","D","CM","M"],I=[1,4,5,9,10,40,50,90,100,400,500,900,1e3],c={NOMINATIVE:"nominative",ACCUSATIVE:"accusative",ABLATIVE:"ablative"},A={[c.NOMINATIVE]:["Ianuarius","Februarius","Martius","Aprilis","Maius","Iunius","Iulius/Quintilis","Augustus/Sextilis","September","October","November","December"],[c.ACCUSATIVE]:["Ianuarias","Februarias","Martias","Aprilis","Maiss","Iunias","Iulias/Quintilis","Augustas/Sextilis","Septembris","Octobris","Novembris","Decembris"],[c.ABLATIVE]:["Ianuariis","Februariis","Martiis","Aprilibus","Maiis","Iuniis","Iuliis/Quintilibus","Augustas/Sextilibus","Septembribus","Octobribus","Novembribus","Decembribus"]};function l(i){if(!Number.isInteger(i))throw"Given number must be an integer";if(i<=0)throw"Given number must be a positive integer";let t="";for(let e=p.length-1;e>=0;e--){let o=I[e],r=p[e];for(;i>=o;)i=i-o,t=t+r}return t}function m(i,t){if(!t in A)throw"Invalid grammatical case";let e=((i-1)%12+12)%12;return A[t][e]}function g(i){let t=i.getDate(),e=i.getMonth()+1,o=i.getFullYear(),r=new Date(o,e,0).getDate(),n=e===3||e===5||e===7||e==10,a=1,d=n?7:5,u=n?15:13;if(t===a)return`Kalendis ${m(e,c.ABLATIVE)} ${l(o)}`;if(t===d)return`Nonis ${m(e,c.ABLATIVE)} ${l(o)}`;if(t===u)return`Idibus ${m(e,c.ABLATIVE)} ${l(o)}`;const s=b=>b.replace("Ante diem II ","Pridie ");return t>u?s(`Ante diem ${l(r-t+2)} Kalendas ${m(e+1,c.ACCUSATIVE)} ${l(e==12?o+1:o)}`):t>d?s(`Ante diem ${l(u-t+1)} Idus ${m(e,c.ACCUSATIVE)} ${l(o)}`):s(`Ante diem ${l(d-t+1)} Nonas ${m(e,c.ACCUSATIVE)} ${l(o)}`)}window.addEventListener("load",()=>{const i=document.querySelector("form"),t=i.querySelector("input#day"),e=i.querySelector("input#month"),o=i.querySelector("input#year"),r=i.querySelector("button[type=submit"),n=i.querySelector("input:read-only");let a=new Date;t.placeholder=("0"+a.getDate().toString()).slice(-2),e.placeholder=("0"+(a.getMonth()+1).toString()).slice(-2),o.placeholder=a.getFullYear().toString(),document.querySelectorAll("input.select").forEach(d=>{d.addEventListener("click",()=>d.select())}),i.addEventListener("submit",d=>{d.preventDefault();let u=parseInt(o.value||o.placeholder),s=parseInt(e.value||e.placeholder),b=parseInt(t.value||t.placeholder),f=new Date(u,s-1,b);f.setFullYear(u);try{if(u<=0)throw"Year must be a positive integer";if(s<1||s>12)throw"Month must be between 1 and 12";if(f.getMonth()!==s-1)throw`Day must be between 1 and ${new Date(u,s,0).getDate()} for ${new Date(u,s,0).toLocaleString("en",{month:"long"})}`;n.value=g(f),n.removeAttribute("disabled")}catch(h){n.value=h,n.setAttribute("disabled","")}}),r.click()});
